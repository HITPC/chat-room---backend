# 后端遇到的问题

## 1、如何实现文件传输？（可选）



## 2、如何实现聊天中的表情？（废用）



## 3、如何使用session或者token在服务器中进行区分人是谁？



## 4、后端如何处理socket编程？

# 接口文档

[Node.js第十五篇：Socket.IO - 雷哒哒 - 博客园 (cnblogs.com)](https://www.cnblogs.com/lpl666/p/12986612.html)

需要的接口：

1. 登录注册   ok
2. index一进去，立马根据当前的cookie存的token内容解析出来，使得可以将对应的信息提出来。然后返回所有信息回去。ok
3. 个人中心的内容，也是一样的，同上。（VIP到期时间本地算吧）ok
4. 个人中心和主页的留言，发的和获取的 ok
5. 创建房间的接口
6. 聊天室的列表，聊天室内部的信息列表（怎么发？怎么更新？websocket如何写）
7. 修改主题的接口。ok
8. 激活VIP的接口。ok
9. 生成邀请码和激活码的接口。ok
10. 获取全部人的列表 ok
11. 退出聊天室接口 （在unmounted那里弄） 

# 项目中遇到的问题及解决方案

注意：使用postman发送请求的时候，post的请求body里不要带注释，也就是json里不要带注释，不然报错400。

一次性激活码库：npm install otplib下面是一个简单的示例，演示如何使用 `otplib` 库生成和验证一次性激活码：

```javascript
const { authenticator } = require('otplib');

// 生成一个密钥（不知道为什么，不要自定义密钥，自定义了出问题）
const secret = authenticator.generateSecret();

// 使用密钥生成一个激活码
const token = authenticator.generate(secret);

// 验证激活码是否有效
const isValid = authenticator.verify({ token, secret });

// 如果激活码有效，则执行相应的操作
if (isValid) {
  // 激活码有效，执行相应操作
} else {
  // 激活码无效，提示用户
}
```

后端配置了跨域，前端开发的时候还是得配置跨域，因为服务器虽然配置了，但是项目是跑在开发服务器上的？https://blog.csdn.net/weixin_43853746/article/details/119064990   ？是这样的，上了服务器再说。
